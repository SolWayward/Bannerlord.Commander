<Prefab>
  <Window>
    <BrushWidget Id="CommanderHeroListPanel" DataSource="{.}"
      WidthSizePolicy="StretchToParent"
      HeightSizePolicy="StretchToParent"
      Brush="HeroEditor.Panel.Background"
      MarginRight="10">
    <Children>
      <BrushWidget Id="HeroListTopBorder" WidthSizePolicy="StretchToParent"
        HeightSizePolicy="Fixed" SuggestedHeight="2"
        VerticalAlignment="Top" Brush="HeroEditor.Section.Border" />
      <BrushWidget Id="HeroListBottomBorder" WidthSizePolicy="StretchToParent"
        HeightSizePolicy="Fixed" SuggestedHeight="2"
        VerticalAlignment="Bottom" Brush="HeroEditor.Section.Border" />
      <BrushWidget Id="HeroListLeftBorder" WidthSizePolicy="Fixed"
        HeightSizePolicy="StretchToParent" SuggestedWidth="2"
        HorizontalAlignment="Left" Brush="HeroEditor.Section.Border" />
      <BrushWidget Id="HeroListRightBorder" WidthSizePolicy="Fixed"
        HeightSizePolicy="StretchToParent" SuggestedWidth="2"
        HorizontalAlignment="Right" Brush="HeroEditor.Section.Border" />

      <Widget Id="HeroListContent" WidthSizePolicy="StretchToParent"
        HeightSizePolicy="StretchToParent"
        MarginTop="10" MarginBottom="10" MarginLeft="10" MarginRight="10">
        <Children>
          <!-- Headers -->
          <BrushWidget Id="HeroListHeaderRow" WidthSizePolicy="StretchToParent"
            HeightSizePolicy="Fixed" SuggestedHeight="40"
            VerticalAlignment="Top" Brush="HeroEditor.Skills.Background">
            <Children>
              <ListPanel Id="HeroListHeaderPanel"
                WidthSizePolicy="StretchToParent"
                HeightSizePolicy="StretchToParent"
                LayoutImp.LayoutMethod="HorizontalLeftToRight">
                <Children>
                  <ButtonWidget Id="NameSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="200"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByName">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@NameSortIndicatorText" HorizontalAlignment="Left"
                        VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="GenderSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="80"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByGender">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@GenderSortIndicatorText" HorizontalAlignment="Left"
                        VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="AgeSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="50"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByAge">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@AgeSortIndicatorText" HorizontalAlignment="Center"
                        VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="ClanSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="150"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByClan">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@ClanSortIndicatorText" HorizontalAlignment="Left"
                        VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="KingdomSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="150"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByKingdom">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@KingdomSortIndicatorText"
                        HorizontalAlignment="Left" VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="CultureSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="120"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByCulture">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@CultureSortIndicatorText"
                        HorizontalAlignment="Left" VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="TypeSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="80"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByType">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@TypeSortIndicatorText" HorizontalAlignment="Left"
                        VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                  <ButtonWidget Id="LevelSortButton"
                    DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent" SuggestedWidth="50"
                    MarginLeft="10"
                    Command.Click="ExecuteSortByLevel">
                    <Children>
                      <TextWidget WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="StretchToParent"
                        Brush="TownManagement.Description.Title.Text"
                        Brush.FontSize="20"
                        Text="@LevelSortIndicatorText"
                        HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Children>
                  </ButtonWidget>
                </Children>
              </ListPanel>
              <BrushWidget Id="HeaderDividerLine" WidthSizePolicy="StretchToParent"
                HeightSizePolicy="Fixed" SuggestedHeight="2"
                VerticalAlignment="Bottom" Brush="HeroEditor.Section.Border" />
            </Children>
          </BrushWidget>

          <!-- Scrollable List -->
          <Widget Id="HeroListScrollContainer" WidthSizePolicy="StretchToParent"
            HeightSizePolicy="StretchToParent" MarginTop="42">
            <Children>
              <ScrollablePanel Id="HeroesScrollablePanel"
                WidthSizePolicy="StretchToParent"
                HeightSizePolicy="StretchToParent" MarginRight="25"
                AutoHideScrollBars="true"
                ClipRect="HeroesClipRect"
                InnerPanel="HeroesClipRect\HeroesInnerPanel"
                VerticalScrollbar="..\ScrollbarContainer\HeroesScrollbar">
                <Children>
                  <Widget Id="HeroesClipRect" WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="StretchToParent" ClipContents="true">
                    <Children>
                      <ListPanel Id="HeroesInnerPanel"
                        WidthSizePolicy="StretchToParent"
                        HeightSizePolicy="CoverChildren" DataSource="{Heroes}"
                        StackLayout.LayoutMethod="VerticalBottomToTop">
                        <ItemTemplate>
                          <ButtonWidget DoNotPassEventsToChildren="true"
                            UpdateChildrenStates="true"
                            WidthSizePolicy="StretchToParent"
                            HeightSizePolicy="Fixed"
                            SuggestedHeight="35" MarginBottom="2"
                            Brush="Commander.HeroRow"
                            Command.Click="ExecuteSelect" IsSelected="@IsSelected"
                            IsHidden="@IsFiltered">
                            <Children>
                              <ListPanel Id="HeroRowPanel"
                                WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                StackLayout.LayoutMethod="HorizontalLeftToRight">
                                <Children>
                                  <Widget Id="NameCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="200" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@Name"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="GenderCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="80" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@Gender"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="AgeCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="50" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@AgeText"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="ClanCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="150" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@Clan"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="KingdomCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="150" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@Kingdom"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="CultureCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="120" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@Culture"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="TypeCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="80" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@HeroType"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                  <Widget Id="LevelCell" WidthSizePolicy="Fixed"
                                    HeightSizePolicy="StretchToParent"
                                    SuggestedWidth="50" MarginLeft="10">
                                    <Children>
                                      <TextWidget
                                        WidthSizePolicy="StretchToParent"
                                        HeightSizePolicy="StretchToParent"
                                        Brush="Clan.TabControl.Text"
                                        Brush.FontSize="18" Text="@LevelText"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center" />
                                    </Children>
                                  </Widget>
                                </Children>
                              </ListPanel>
                            </Children>
                          </ButtonWidget>
                        </ItemTemplate>
                      </ListPanel>
                    </Children>
                  </Widget>
                </Children>
              </ScrollablePanel>
              <Widget Id="ScrollbarContainer" WidthSizePolicy="Fixed"
                HeightSizePolicy="StretchToParent"
                SuggestedWidth="25" HorizontalAlignment="Right">
                <Children>
                  <ScrollbarWidget Id="HeroesScrollbar" WidthSizePolicy="Fixed"
                    HeightSizePolicy="StretchToParent"
                    SuggestedWidth="20" MinValue="0" MaxValue="100"
                    AlignmentAxis="Vertical"
                    HorizontalAlignment="Center" VerticalAlignment="Top"
                    Handle="ScrollbarHandle">
                    <Children>
                      <BrushWidget Id="ScrollbarHandle" WidthSizePolicy="Fixed"
                        HeightSizePolicy="Fixed"
                        SuggestedWidth="20" MinHeight="30"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top" Brush="HeroEditor.Section.Border" />
                    </Children>
                  </ScrollbarWidget>
                </Children>
              </Widget>
            </Children>
          </Widget>
        </Children>
      </Widget>
    </Children>
    </BrushWidget>
  </Window>
</Prefab>
