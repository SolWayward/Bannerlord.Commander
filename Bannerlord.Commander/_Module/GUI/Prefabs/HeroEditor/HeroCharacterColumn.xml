<Prefab>
  <!-- CENTER COLUMN: Portrait, Character Model, and Equipment Slots -->
  <Parameters>
  </Parameters>
  <Window>
    <Widget WidthSizePolicy="StretchToParent"
      HeightSizePolicy="StretchToParent"
      MarginLeft="8"
      MarginRight="8">
      <Children>
        <ListPanel WidthSizePolicy="StretchToParent"
          HeightSizePolicy="StretchToParent"
          StackLayout.LayoutMethod="VerticalBottomToTop">
          <Children>

            <!-- ==================== PORTRAIT ==================== -->
            <Widget DataSource="{HeroInfo}"
              WidthSizePolicy="Fixed"
              HeightSizePolicy="Fixed"
              SuggestedWidth="150"
              SuggestedHeight="180"
              HorizontalAlignment="Center"
              MarginBottom="8"
              Sprite="BlankWhiteSquare_9"
              Color="#1a1a1aFF">
              <Children>
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Top"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Bottom"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Left"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Right"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />

                <!-- Portrait Image -->
                <ImageIdentifierWidget WidthSizePolicy="StretchToParent"
                  HeightSizePolicy="StretchToParent"
                  MarginTop="4"
                  MarginBottom="4"
                  MarginLeft="4"
                  MarginRight="4"
                  DataSource="{PortraitImage}"
                  ImageTypeCode="@ImageTypeCode"
                  AdditionalArgs="@AdditionalArgs"
                  ImageId="@Id" />
              </Children>
            </Widget>

            <!-- ==================== CHARACTER MODEL + EQUIPMENT SLOTS ==================== -->
            <Widget WidthSizePolicy="StretchToParent"
              HeightSizePolicy="StretchToParent"
              Sprite="BlankWhiteSquare_9"
              Color="#1a1a1aFF">
              <Children>
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Top"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Bottom"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Left"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Right"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />

                <ListPanel WidthSizePolicy="StretchToParent"
                  HeightSizePolicy="StretchToParent"
                  StackLayout.LayoutMethod="HorizontalLeftToRight">
                  <Children>

                    <!-- ==================== LEFT ARMOR SLOTS ==================== -->
                    <ListPanel WidthSizePolicy="Fixed"
                      HeightSizePolicy="StretchToParent"
                      SuggestedWidth="65"
                      MarginLeft="4"
                      MarginTop="4"
                      MarginBottom="4"
                      StackLayout.LayoutMethod="VerticalBottomToTop">
                      <Children>
                        <!-- Head Slot -->
                        <Widget DataSource="{HeadSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3"
                          Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="HeadBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryHelmetSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Background="..\HeadBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Cape Slot -->
                        <Widget DataSource="{CapeSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="CapeBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryCloakSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="1"
                              ItemType="@TypeName"
                              Background="..\CapeBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Body Slot -->
                        <Widget DataSource="{BodySlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="BodyBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryArmorSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="2"
                              ItemType="@TypeName"
                              Background="..\BodyBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Gloves Slot -->
                        <Widget DataSource="{GlovesSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="GlovesBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryGloveSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="3"
                              ItemType="@TypeName"
                              Background="..\GlovesBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Leg Slot -->
                        <Widget DataSource="{LegSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="LegBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="4"
                              ItemType="@TypeName"
                              Background="..\LegBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Horse Slot -->
                        <Widget DataSource="{HorseSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="HorseBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="10"
                              ItemType="@TypeName"
                              Background="..\HorseBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Horse Harness Slot -->
                        <Widget DataSource="{HorseHarnessSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="65"
                          SuggestedHeight="65"
                          MarginBottom="3" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="HarnessBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="11"
                              ItemType="@TypeName"
                              Background="..\HarnessBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="3" MarginRight="4" MarginTop="3"
                                  MarginBottom="4"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>
                      </Children>
                    </ListPanel>

                    <!-- ==================== CHARACTER MODEL ==================== -->
                    <Widget DataSource="{HeroCharacter}"
                      WidthSizePolicy="StretchToParent"
                      HeightSizePolicy="StretchToParent">
                      <Children>
                        <CharacterTableauWidget WidthSizePolicy="StretchToParent"
                          HeightSizePolicy="StretchToParent"
                          BodyProperties="@BodyProperties"
                          StanceIndex="@StanceIndex"
                          IsFemale="@IsFemale"
                          EquipmentCode="@EquipmentCode"
                          BannerCodeText="@BannerCodeText"
                          CharStringId="@CharStringId"
                          MountCreationKey="@MountCreationKey"
                          ArmorColor1="@ArmorColor1"
                          ArmorColor2="@ArmorColor2"
                          Race="@Race"
                          IsEquipmentAnimActive="true"
                          RightHandWieldedEquipmentIndex="0"
                          LeftHandWieldedEquipmentIndex="1" />
                      </Children>
                    </Widget>

                    <!-- ==================== RIGHT WEAPON SLOTS ==================== -->
                    <ListPanel WidthSizePolicy="Fixed"
                      HeightSizePolicy="StretchToParent"
                      SuggestedWidth="50"
                      MarginRight="4"
                      MarginTop="4"
                      MarginBottom="4"
                      StackLayout.LayoutMethod="VerticalBottomToTop">
                      <Children>
                        <!-- Weapon 0 Slot -->
                        <Widget DataSource="{Weapon0Slot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="45"
                          SuggestedHeight="45"
                          MarginBottom="2" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="Weapon0Background"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="5"
                              ItemType="@TypeName"
                              Background="..\Weapon0Background"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Weapon 1 Slot -->
                        <Widget DataSource="{Weapon1Slot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="45"
                          SuggestedHeight="45"
                          MarginBottom="2" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="Weapon1Background"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="6"
                              ItemType="@TypeName"
                              Background="..\Weapon1Background"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Weapon 2 Slot -->
                        <Widget DataSource="{Weapon2Slot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="45"
                          SuggestedHeight="45"
                          MarginBottom="2" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="Weapon2Background"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="7"
                              ItemType="@TypeName"
                              Background="..\Weapon2Background"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Weapon 3 Slot -->
                        <Widget DataSource="{Weapon3Slot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="45"
                          SuggestedHeight="45"
                          MarginBottom="2" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="Weapon3Background"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="8"
                              ItemType="@TypeName"
                              Background="..\Weapon3Background"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>

                        <!-- Banner Slot -->
                        <Widget DataSource="{BannerSlot}"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="45"
                          SuggestedHeight="45"
                          MarginBottom="2" Command.Click="ExecuteSelectSlot">
                          <Children>
                            <BrushWidget Id="BannerBackground"
                              WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              Brush="InventoryWeaponSlot" />
                            <CommanderEquipmentSlotWidget WidthSizePolicy="StretchToParent"
                              HeightSizePolicy="StretchToParent"
                              TargetEquipmentIndex="9"
                              ItemType="@TypeName"
                              Background="..\BannerBackground"
                              ImageIdentifier="ImageIdentifier"
                              IsSelected="@IsSelected">
                              <Children>
                                <Widget WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  Sprite="Inventory\portrait_cart" />
                                <ImageIdentifierWidget Id="ImageIdentifier"
                                  DataSource="{ImageIdentifier}"
                                  WidthSizePolicy="StretchToParent"
                                  HeightSizePolicy="StretchToParent"
                                  MarginLeft="2" MarginRight="2" MarginTop="2"
                                  MarginBottom="2"
                                  ImageId="@Id"
                                  AdditionalArgs="@AdditionalArgs"
                                  TextureProviderName="@TextureProviderName" />
                              </Children>
                            </CommanderEquipmentSlotWidget>
                          </Children>
                        </Widget>
                      </Children>
                    </ListPanel>

                  </Children>
                </ListPanel>
              </Children>
            </Widget>

            <!-- ==================== LOADOUT SELECTOR ==================== -->
            <Widget DataSource="{HeroInventory}"
              WidthSizePolicy="StretchToParent"
              HeightSizePolicy="Fixed"
              SuggestedHeight="32"
              Sprite="BlankWhiteSquare_9"
              Color="#1a1a1aFF">
              <Children>
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Top"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Bottom"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Left"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Right"
                  Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />

                <ListPanel WidthSizePolicy="CoverChildren"
                  HeightSizePolicy="StretchToParent"
                  HorizontalAlignment="Center"
                  StackLayout.LayoutMethod="HorizontalLeftToRight">
                  <Children>
                    <TextWidget WidthSizePolicy="CoverChildren"
                      HeightSizePolicy="StretchToParent"
                      MarginRight="8"
                      VerticalAlignment="Center"
                      Brush="TownManagement.Description.Title.Text"
                      Brush.FontSize="14"
                      Text="Loadout:" />
                    <ButtonWidget DoNotPassEventsToChildren="true"
                      WidthSizePolicy="CoverChildren"
                      HeightSizePolicy="Fixed"
                      SuggestedHeight="24"
                      VerticalAlignment="Center"
                      Command.Click="ExecuteToggleLoadout">
                      <Children>
                        <Widget WidthSizePolicy="StretchToParent"
                          HeightSizePolicy="StretchToParent"
                          Sprite="BlankWhiteSquare_9"
                          Color="#453920FF" />
                        <TextWidget WidthSizePolicy="CoverChildren"
                          HeightSizePolicy="StretchToParent"
                          MarginLeft="12"
                          MarginRight="12"
                          VerticalAlignment="Center"
                          Brush="Clan.TabControl.Text"
                          Brush.FontSize="13"
                          Text="@LoadoutName" />
                      </Children>
                    </ButtonWidget>
                  </Children>
                </ListPanel>
              </Children>
            </Widget>

          </Children>
        </ListPanel>
      </Children>
    </Widget>
  </Window>
</Prefab>
