<Prefab>
  <Window>
    <!-- Combined Title + Name row. DataSource binds to HeroNamePanel VM. -->
    <Widget Id="HeroTitleNamePanel" DataSource="{HeroNamePanel}"
      WidthSizePolicy="StretchToParent"
      HeightSizePolicy="Fixed"
      SuggestedHeight="30"
      MarginBottom="8">
      <Children>
        <!-- Content row: [Title (plain)] [Name (editable box)] -->
        <ListPanel Id="TitleNameContent" WidthSizePolicy="StretchToParent"
          HeightSizePolicy="StretchToParent"
          StackLayout.LayoutMethod="HorizontalLeftToRight">
          <Children>
            <!-- Title label (non-editable, no box, only visible when hero has a title) -->
            <TextWidget Id="TitleText"
              WidthSizePolicy="CoverChildren"
              HeightSizePolicy="StretchToParent"
              VerticalAlignment="Center"
              MarginLeft="2" MarginRight="6"
              Brush="Clan.TabControl.Text"
              Brush.FontSize="17"
              Text="@HeroTitle"
              IsVisible="@HasTitle" />

            <!-- Editable name field with its own bordered background -->
            <BrushWidget Id="NameInputContainer"
              WidthSizePolicy="StretchToParent"
              HeightSizePolicy="StretchToParent"
              Brush="HeroEditor.Input.Background">
              <Children>
                <!-- Borders around name input only -->
                <BrushWidget Id="NameTopBorder" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Top"
                  Brush="HeroEditor.Section.Border" />
                <BrushWidget Id="NameBottomBorder" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                  SuggestedHeight="2" VerticalAlignment="Bottom"
                  Brush="HeroEditor.Section.Border" />
                <BrushWidget Id="NameLeftBorder" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Left"
                  Brush="HeroEditor.Section.Border" />
                <BrushWidget Id="NameRightBorder" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                  SuggestedWidth="2" HorizontalAlignment="Right"
                  Brush="HeroEditor.Section.Border" />

                <!-- Editable name text -->
                <EditableTextWidget Id="NameInput"
                  WidthSizePolicy="StretchToParent"
                  HeightSizePolicy="StretchToParent"
                  MarginLeft="6" MarginRight="6"
                  MarginTop="4" MarginBottom="4"
                  Brush="Clan.TabControl.Text"
                  Brush.FontSize="17"
                  Text="@HeroName" />
              </Children>
            </BrushWidget>
          </Children>
        </ListPanel>
      </Children>
    </Widget>
  </Window>
</Prefab>
