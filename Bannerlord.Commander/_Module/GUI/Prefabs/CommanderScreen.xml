<Prefab>
  <Window>
    <!-- Full screen dark background container -->
    <Widget WidthSizePolicy="StretchToParent" 
            HeightSizePolicy="StretchToParent"
            Sprite="BlankWhiteSquare_9"
            Color="#1a1a1aEE">
      <Children>
        
        <!-- Header Bar -->
        <Widget WidthSizePolicy="StretchToParent"
                HeightSizePolicy="Fixed"
                SuggestedHeight="60"
                VerticalAlignment="Top"
                Sprite="BlankWhiteSquare_9"
                Color="#2a2a2aFF">
          <Children>
            
            <!-- Decorative top border line -->
            <Widget WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="Fixed"
                    SuggestedHeight="2"
                    VerticalAlignment="Top"
                    Sprite="BlankWhiteSquare_9"
                    Color="#8B7355FF" />
            
            <!-- Title Text - Centered -->
            <RichTextWidget WidthSizePolicy="StretchToParent"
                            HeightSizePolicy="StretchToParent"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Brush="TownManagement.Description.Title.Text"
                            Brush.FontSize="28"
                            Brush.TextHorizontalAlignment="Center"
                            Text="@TitleText" />
            
            <!-- Decorative bottom border line -->
            <Widget WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="Fixed"
                    SuggestedHeight="2"
                    VerticalAlignment="Bottom"
                    Sprite="BlankWhiteSquare_9"
                    Color="#8B7355FF" />
                    
          </Children>
        </Widget>
        
        <!-- Mode Toggle Tabs Row (below header) -->
        <Widget WidthSizePolicy="StretchToParent"
                HeightSizePolicy="Fixed"
                SuggestedHeight="42"
                MarginTop="60"
                Sprite="BlankWhiteSquare_9"
                Color="#1E1E1EFF">
          <Children>
            
            <!-- Horizontal container for mode tabs -->
            <ListPanel WidthSizePolicy="CoverChildren"
                       HeightSizePolicy="StretchToParent"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Bottom"
                       LayoutImp.LayoutMethod="HorizontalLeftToRight">
              <Children>
                
                <!-- Kingdoms Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectKingdoms"
                              IsSelected="@IsKingdomsSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Kingdoms"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Clans Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectClans"
                              IsSelected="@IsClansSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Clans"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Heroes Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectHeroes"
                              IsSelected="@IsHeroesSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Heroes"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Settlements Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectSettlements"
                              IsSelected="@IsSettlementsSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Settlements"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Troops Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectTroops"
                              IsSelected="@IsTroopsSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Troops"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Items Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectItems"
                              IsSelected="@IsItemsSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Items"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
                <!-- Characters Tab -->
                <ButtonWidget DoNotPassEventsToChildren="true"
                              UpdateChildrenStates="true"
                              WidthSizePolicy="Fixed"
                              HeightSizePolicy="Fixed"
                              SuggestedWidth="180"
                              SuggestedHeight="40"
                              MarginLeft="2"
                              MarginRight="2"
                              Brush="Commander.Tab.Button"
                              Command.Click="ExecuteSelectCharacters"
                              IsSelected="@IsCharactersSelected">
                  <Children>
                    <!-- Subtle border frame -->
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Top"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
                            SuggestedHeight="1" VerticalAlignment="Bottom"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Left"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <Widget WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
                            SuggestedWidth="1" HorizontalAlignment="Right"
                            Sprite="BlankWhiteSquare_9" Color="#8B7355FF" />
                    <TextWidget WidthSizePolicy="StretchToParent"
                                HeightSizePolicy="StretchToParent"
                                Brush="Clan.TabControl.Text"
                                Text="Characters"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                  </Children>
                </ButtonWidget>
                
              </Children>
            </ListPanel>
            
            <!-- Bottom border line that connects to content area -->
            <Widget WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="Fixed"
                    SuggestedHeight="2"
                    VerticalAlignment="Bottom"
                    Sprite="BlankWhiteSquare_9"
                    Color="#3D3D3DFF" />
            
          </Children>
        </Widget>
        
        <!-- Main Content Area (below mode tabs) -->
        <Widget WidthSizePolicy="StretchToParent"
                HeightSizePolicy="StretchToParent"
                MarginTop="104"
                MarginBottom="60"
                MarginLeft="20"
                MarginRight="20">
          <Children>
            <!-- Content will be populated based on selected mode -->
          </Children>
        </Widget>
        
        <!-- Footer Bar -->
        <Widget WidthSizePolicy="StretchToParent"
                HeightSizePolicy="Fixed"
                SuggestedHeight="50"
                VerticalAlignment="Bottom"
                Sprite="BlankWhiteSquare_9"
                Color="#2a2a2aFF">
          <Children>
            
            <!-- Decorative top border line -->
            <Widget WidthSizePolicy="StretchToParent"
                    HeightSizePolicy="Fixed"
                    SuggestedHeight="2"
                    VerticalAlignment="Top"
                    Sprite="BlankWhiteSquare_9"
                    Color="#8B7355FF" />
            
            <!-- Close button -->
            <ButtonWidget DoNotPassEventsToChildren="true"
                          UpdateChildrenStates="true"
                          WidthSizePolicy="Fixed"
                          HeightSizePolicy="Fixed"
                          SuggestedWidth="120"
                          SuggestedHeight="36"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          Command.Click="ExecuteClose">
              <Children>
                <TextWidget WidthSizePolicy="StretchToParent"
                            HeightSizePolicy="StretchToParent"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Brush="Clan.TabControl.Text"
                            Text="Close" />
              </Children>
            </ButtonWidget>
            
          </Children>
        </Widget>
        
      </Children>
    </Widget>
  </Window>
</Prefab>
